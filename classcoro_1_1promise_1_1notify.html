<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libcoro: coro::promise&lt; T, atomic &gt;::notify Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libcoro
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Coroutine support library for C++20</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecoro.html">coro</a></li><li class="navelem"><a class="el" href="classcoro_1_1promise.html">promise</a></li><li class="navelem"><a class="el" href="classcoro_1_1promise_1_1notify.html">notify</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classcoro_1_1promise_1_1notify-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">coro::promise&lt; T, atomic &gt;::notify Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>contain notification to be delivered to the asociated future  
 <a href="classcoro_1_1promise_1_1notify.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="future_8h_source.html">future.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab82f949c99b927524d740994901340cf"><td class="memItemLeft" align="right" valign="top"><a id="ab82f949c99b927524d740994901340cf"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoro_1_1promise_1_1notify.html#ab82f949c99b927524d740994901340cf">cancel</a> ()</td></tr>
<tr class="memdesc:ab82f949c99b927524d740994901340cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">cancel the future resolution (notify still needs to be delivered) <br /></td></tr>
<tr class="separator:ab82f949c99b927524d740994901340cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ad83529c7995c5f53eec9da1bc93cfc"><td class="memItemLeft" align="right" valign="top"><a id="a3ad83529c7995c5f53eec9da1bc93cfc"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoro_1_1promise_1_1notify.html#a3ad83529c7995c5f53eec9da1bc93cfc">deliver</a> ()</td></tr>
<tr class="memdesc:a3ad83529c7995c5f53eec9da1bc93cfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">deliver the notification now <br /></td></tr>
<tr class="separator:a3ad83529c7995c5f53eec9da1bc93cfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad902234e8816f575b2d1fde4e99d57e"><td class="memTemplParams" colspan="2">template&lt;std::invocable&lt; function&lt; prepared_coro()&gt; &gt; Fn&gt; </td></tr>
<tr class="memitem:aad902234e8816f575b2d1fde4e99d57e"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classcoro_1_1promise_1_1notify.html#aad902234e8816f575b2d1fde4e99d57e">deliver</a> (Fn &amp;&amp;fn)</td></tr>
<tr class="memdesc:aad902234e8816f575b2d1fde4e99d57e"><td class="mdescLeft">&#160;</td><td class="mdescRight">deliver notification through the function  <a href="classcoro_1_1promise_1_1notify.html#aad902234e8816f575b2d1fde4e99d57e">More...</a><br /></td></tr>
<tr class="separator:aad902234e8816f575b2d1fde4e99d57e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b2f6001de9c4ebe328173d15231569d"><td class="memItemLeft" align="right" valign="top">std::coroutine_handle&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoro_1_1promise_1_1notify.html#a1b2f6001de9c4ebe328173d15231569d">symmetric_transfer</a> ()</td></tr>
<tr class="memdesc:a1b2f6001de9c4ebe328173d15231569d"><td class="mdescLeft">&#160;</td><td class="mdescRight">deliver the notification with ability to switch to the coroutine  <a href="classcoro_1_1promise_1_1notify.html#a1b2f6001de9c4ebe328173d15231569d">More...</a><br /></td></tr>
<tr class="separator:a1b2f6001de9c4ebe328173d15231569d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf5d72940b9c7d68903a9e5d0705bc04"><td class="memItemLeft" align="right" valign="top"><a id="acf5d72940b9c7d68903a9e5d0705bc04"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoro_1_1promise_1_1notify.html#acf5d72940b9c7d68903a9e5d0705bc04">operator bool</a> () const</td></tr>
<tr class="memdesc:acf5d72940b9c7d68903a9e5d0705bc04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines, whether object carries deferred notification. <br /></td></tr>
<tr class="separator:acf5d72940b9c7d68903a9e5d0705bc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a1c62f95f5efc848ea730ff786c98d421"><td class="memItemLeft" align="right" valign="top"><a id="a1c62f95f5efc848ea730ff786c98d421"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoro_1_1promise_1_1notify.html#a1c62f95f5efc848ea730ff786c98d421">notify</a> (<a class="el" href="classcoro_1_1future.html">FutureType</a> *fut)</td></tr>
<tr class="memdesc:a1c62f95f5efc848ea730ff786c98d421"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct deferred notify from future. <br /></td></tr>
<tr class="separator:a1c62f95f5efc848ea730ff786c98d421"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename T, bool atomic&gt;<br />
class coro::promise&lt; T, atomic &gt;::notify</h3>

<p>contain notification to be delivered to the asociated future </p>
<p>By setting a value to a promise, it can cause that associated coroutine will be resumed. The place, where this happens can be unsuitable for such operation. This object can be used to schedule the notification about resolution of the future. By default, the notification is delivered in the destructor, however the object can be moved, or the notification can be delivered manually. This object can be also used in situation special for coroutines, such a function await_suspend() to support the symmetric transfer </p>

<p class="definition">Definition at line <a class="el" href="future_8h_source.html#l00076">76</a> of file <a class="el" href="future_8h_source.html">future.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aad902234e8816f575b2d1fde4e99d57e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad902234e8816f575b2d1fde4e99d57e">&#9670;&nbsp;</a></span>deliver()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , bool atomic&gt; </div>
<div class="memtemplate">
template&lt;std::invocable&lt; function&lt; prepared_coro()&gt; &gt; Fn&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcoro_1_1promise.html">coro::promise</a>&lt; T, atomic &gt;::notify::deliver </td>
          <td>(</td>
          <td class="paramtype">Fn &amp;&amp;&#160;</td>
          <td class="paramname"><em>fn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>deliver notification through the function </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fn</td><td>A function which receives another function which must be executed. You can for example pass the function to a thread pool for the execution. Return value of the function can be ignored. However it can carry a coroutine handle, you can use this value to improve scheduling. If the return value is ignored, the coroutine is resumed. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="future_8h_source.html#l00097">97</a> of file <a class="el" href="future_8h_source.html">future.h</a>.</p>

</div>
</div>
<a id="a1b2f6001de9c4ebe328173d15231569d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b2f6001de9c4ebe328173d15231569d">&#9670;&nbsp;</a></span>symmetric_transfer()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , bool atomic&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::coroutine_handle <a class="el" href="classcoro_1_1promise.html">coro::promise</a>&lt; T, atomic &gt;::notify::symmetric_transfer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>deliver the notification with ability to switch to the coroutine </p>
<p>support for symmetric transfer</p>
<dl class="section return"><dt>Returns</dt><dd>return value must be used in await_suspend() - (otherwise the notification can be lost). This allows to transfer from current coroutine to resuming coroutine. If the awaiter is not coroutine, the function simply delivers to notification and return noop_coroutine() </dd></dl>

<p class="definition">Definition at line <a class="el" href="future_8h_source.html#l00112">112</a> of file <a class="el" href="future_8h_source.html">future.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/coro/<a class="el" href="future_8h_source.html">future.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Mar 17 2024 13:19:28 for libcoro by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
